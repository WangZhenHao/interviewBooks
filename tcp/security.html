<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web安全问题 | 面试宝典</title>
    <meta name="description" content="把面试的知识点整合一遍">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/interviewBooks/assets/css/0.styles.d08aa1ef.css" as="style"><link rel="preload" href="/interviewBooks/assets/js/app.67715823.js" as="script"><link rel="preload" href="/interviewBooks/assets/js/2.007db899.js" as="script"><link rel="preload" href="/interviewBooks/assets/js/24.790ec0a5.js" as="script"><link rel="prefetch" href="/interviewBooks/assets/js/10.48c9397e.js"><link rel="prefetch" href="/interviewBooks/assets/js/11.5f8f594b.js"><link rel="prefetch" href="/interviewBooks/assets/js/12.97c7a176.js"><link rel="prefetch" href="/interviewBooks/assets/js/13.3eea2b76.js"><link rel="prefetch" href="/interviewBooks/assets/js/14.d86229b2.js"><link rel="prefetch" href="/interviewBooks/assets/js/15.b6393e65.js"><link rel="prefetch" href="/interviewBooks/assets/js/16.b758a36f.js"><link rel="prefetch" href="/interviewBooks/assets/js/17.ccab68ab.js"><link rel="prefetch" href="/interviewBooks/assets/js/18.806640f0.js"><link rel="prefetch" href="/interviewBooks/assets/js/19.597486b6.js"><link rel="prefetch" href="/interviewBooks/assets/js/20.3a5178df.js"><link rel="prefetch" href="/interviewBooks/assets/js/21.d9bb83af.js"><link rel="prefetch" href="/interviewBooks/assets/js/22.d9edfb33.js"><link rel="prefetch" href="/interviewBooks/assets/js/23.8866e861.js"><link rel="prefetch" href="/interviewBooks/assets/js/25.e167d889.js"><link rel="prefetch" href="/interviewBooks/assets/js/3.e2df9a13.js"><link rel="prefetch" href="/interviewBooks/assets/js/4.7a4d83b2.js"><link rel="prefetch" href="/interviewBooks/assets/js/5.954045cc.js"><link rel="prefetch" href="/interviewBooks/assets/js/6.b4a03c25.js"><link rel="prefetch" href="/interviewBooks/assets/js/7.53232678.js"><link rel="prefetch" href="/interviewBooks/assets/js/8.6db60fd2.js"><link rel="prefetch" href="/interviewBooks/assets/js/9.34757601.js">
    <link rel="stylesheet" href="/interviewBooks/assets/css/0.styles.d08aa1ef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/interviewBooks/" class="home-link router-link-active"><!----> <span class="site-name">面试宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css篇：</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/css/" class="sidebar-link">css知识点</a></li><li><a href="/interviewBooks/css/bfc.html" class="sidebar-link">什么是BFC</a></li><li><a href="/interviewBooks/css/css3.html" class="sidebar-link">css3的新特性</a></li><li><a href="/interviewBooks/css/compatible.html" class="sidebar-link">常见兼容性问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/javascript/" class="sidebar-link">javascript基础问题</a></li><li><a href="/interviewBooks/javascript/basicWriteExam.html" class="sidebar-link">javascript笔试题</a></li><li><a href="/interviewBooks/javascript/algorithmExam.html" class="sidebar-link">算法考题</a></li><li><a href="/interviewBooks/javascript/es6.html" class="sidebar-link">es6考点</a></li><li><a href="/interviewBooks/javascript/typeScript.html" class="sidebar-link">typeScript考点</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>html篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/html/" class="sidebar-link">html篇</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端构建工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/buildTools/" class="sidebar-link">前端构建工具</a></li><li><a href="/interviewBooks/buildTools/git.html" class="sidebar-link">说说git的flow</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>框架相关提问</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/frame/" class="sidebar-link">关于框架面试提问</a></li><li><a href="/interviewBooks/frame/vue.html" class="sidebar-link">vue面试参考问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>tcp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewBooks/tcp/" class="sidebar-link">tcp基础知识点</a></li><li><a href="/interviewBooks/tcp/proxy.html" class="sidebar-link">服务器的正向代理与方向代理</a></li><li><a href="/interviewBooks/tcp/security.html" class="active sidebar-link">web安全问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interviewBooks/tcp/http.html" class="sidebar-link">http相关知识点</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="web安全问题"><a href="#web安全问题" class="header-anchor">#</a> web安全问题</h1> <h3 id="_1-csrf攻击与防御"><a href="#_1-csrf攻击与防御" class="header-anchor">#</a> 1.CSRF攻击与防御</h3> <p>CSRF定义：跨站请求伪造（英语：Cross-site request forgery）是一种对网站的恶意利用，也被称为 one-click attack 或者 session riding，通常缩写为 CSRF 或者 XSRF， 是一种挟制用户在当前已登录的Web应用程序上执行非本意的操作的攻击方法。 CSRF跨站点请求伪造(Cross—Site Request Forgery) 跟XSS攻击一样，存在巨大的危害性。</p> <p>1.用户C打开浏览器，访问受信任网站A，输入用户名和密码请求登录网站A;
2.在用户信息通过验证后，网站A产生Cookie信息并返回给浏览器，此时用户登录网站A成功，可以正常发送请求到网站A;
3.用户未退出网站A之前，在同一浏览器中，打开一个TAB页访问网站B;
4.网站B接收到用户请求后，返回一些攻击性代码，并发出一个请求要求访问第三方站点A;
5.浏览器在接收到这些攻击性代码后，根据网站B的请求，在用户不知情的情况下携带Cookie信息，向网站A发出请求。网站A并不知道该请求其实是由B发起的，所以会根据用户C的Cookie信息以C的权限处理该请求，导致来自网站B的恶意代码被执行</p> <p>简而言之： 通过访问恶意网址，恶意网址返回来js自动执行访问你之前登陆的网址，因为你已经登录了，所以再次访问将会携带cookie，因为服务器只认有没有cookie，无法区分是不是用户正常的访问，所以会欺骗服务器，造成伤害</p> <p>CSRF 攻击实例：</p> <p>受害者 Bob 在银行有一笔存款，通过对银行的网站发送请求 http://bank.example/withdraw?account=bob&amp;amount=1000000&amp;for=bob2 可以使 Bob 把 1000000 的存款转到 bob2 的账号下。通常情况下，该请求发送到网站后，服务器会先验证该请求是否来自一个合法的 session，并且该 session 的用户 Bob 已经成功登陆。</p> <p>黑客 Mallory 自己在该银行也有账户，他知道上文中的 URL 可以把钱进行转帐操作。Mallory 可以自己发送一个请求给银行：http://bank.example/withdraw?account=bob&amp;amount=1000000&amp;for=Mallory。但是这个请求来自 Mallory 而非 Bob，他不能通过安全认证，因此该请求不会起作用。</p> <p>这时，Mallory 想到使用 CSRF 的攻击方式，他先自己做一个网站，在网站中放入如下代码： src=”http://bank.example/withdraw?account=bob&amp;amount=1000000&amp;for=Mallory ”，并且通过广告等诱使 Bob 来访问他的网站。当 Bob 访问该网站时，上述 url 就会从 Bob 的浏览器发向银行，而这个请求会附带 Bob 浏览器中的 cookie 一起发向银行服务器。大多数情况下，该请求会失败，因为他要求 Bob 的认证信息。但是，如果 Bob 当时恰巧刚访问他的银行后不久，他的浏览器与银行网站之间的 session 尚未过期，浏览器的 cookie 之中含有 Bob 的认证信息。这时，悲剧发生了，这个 url 请求就会得到响应，钱将从 Bob 的账号转移到 Mallory 的账号，而 Bob 当时毫不知情。等以后 Bob 发现账户钱少了，即使他去银行查询日志，他也只能发现确实有一个来自于他本人的合法请求转移了资金，没有任何被攻击的痕迹。而 Mallory 则可以拿到钱后逍遥法外。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interviewBooks/tcp/proxy.html" class="prev">
        服务器的正向代理与方向代理
      </a></span> <span class="next"><a href="/interviewBooks/tcp/http.html">
        http相关知识点
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/interviewBooks/assets/js/app.67715823.js" defer></script><script src="/interviewBooks/assets/js/2.007db899.js" defer></script><script src="/interviewBooks/assets/js/24.790ec0a5.js" defer></script>
  </body>
</html>
